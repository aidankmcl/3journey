import{Dn as e,I as t,L as n,Nn as r,St as i,en as a,gn as o,in as s,p as c,sn as l,ut as u}from"../three.module-LFc9tN89.js";import"../modulepreload-polyfill-BnBYtx4y.js";import{c as d,d as f,f as p,g as m,m as h,n as g,p as _,r as v,s as y,t as b,v as x}from"../OrbitControls-C8bTcdOa.js";import{t as S}from"../BufferGeometryUtils-CXjXNIeq.js";import{t as C}from"../Perf-CVySa7kj.js";import{t as w}from"../Texture-CgfmiNIH.js";var T=class extends t{constructor(e,t={}){let{bevelEnabled:n=!1,bevelSize:r=8,bevelThickness:i=10,font:a,height:o=50,size:s=100,lineHeight:c=1,letterSpacing:l=0,...u}=t;if(a===void 0)super();else{let t=a.generateShapes(e,s,{lineHeight:c,letterSpacing:l});super(t,{...u,bevelEnabled:n,bevelSize:r,bevelThickness:i,depth:o})}this.type=`TextGeometry`}},E=Object.defineProperty,D=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t,n)=>(D(e,typeof t==`symbol`?t:t+``,n),n),k=class extends u{constructor(e){super(e)}load(e,t,r,i){let a=new n(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,e=>{if(typeof e!=`string`)throw Error(`unsupported data type`);let n=JSON.parse(e),r=this.parse(n);t&&t(r)},r,i)}loadAsync(e,t){return super.loadAsync(e,t)}parse(e){return new A(e)}},A=class{constructor(e){O(this,`data`),O(this,`isFont`,!0),O(this,`type`,`Font`),this.data=e}generateShapes(e,t=100,n){let r=[],i={letterSpacing:0,lineHeight:1,...n},a=j(e,t,this.data,i);for(let e=0,t=a.length;e<t;e++)Array.prototype.push.apply(r,a[e].toShapes(!1));return r}};function j(e,t,n,r){let i=Array.from(e),a=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*a,s=[],c=0,l=0;for(let e=0;e<i.length;e++){let t=i[e];if(t===`
`)c=0,l-=o*r.lineHeight;else{let e=M(t,a,c,l,n);e&&(c+=e.offsetX+r.letterSpacing,s.push(e.path))}}return s}function M(e,t,n,r,i){let a=i.glyphs[e]||i.glyphs[`?`];if(!a){console.error(`THREE.Font: character "`+e+`" does not exists in font family `+i.familyName+`.`);return}let o=new s,c,l,u,d,f,p,m,h;if(a.o){let e=a._cachedOutline||=a.o.split(` `);for(let i=0,a=e.length;i<a;)switch(e[i++]){case`m`:c=parseInt(e[i++])*t+n,l=parseInt(e[i++])*t+r,o.moveTo(c,l);break;case`l`:c=parseInt(e[i++])*t+n,l=parseInt(e[i++])*t+r,o.lineTo(c,l);break;case`q`:u=parseInt(e[i++])*t+n,d=parseInt(e[i++])*t+r,f=parseInt(e[i++])*t+n,p=parseInt(e[i++])*t+r,o.quadraticCurveTo(f,p,u,d);break;case`b`:u=parseInt(e[i++])*t+n,d=parseInt(e[i++])*t+r,f=parseInt(e[i++])*t+n,p=parseInt(e[i++])*t+r,m=parseInt(e[i++])*t+n,h=parseInt(e[i++])*t+r,o.bezierCurveTo(f,p,m,h,u,d);break}}return{offsetX:a.ha*t,path:o}}var N=null;async function P(e){return typeof e==`string`?await(await fetch(e)).json():e}function ee(e){return N||=new k,N.parse(e)}async function F(e){let t=await P(e);return ee(t)}function I(e){return h(F,[e])}I.preload=e=>_(F,[e]),I.clear=e=>p([e]);var L=r(x()),R=[`string`,`number`],z=e=>{let t=``,n=[];return L.Children.forEach(e,e=>{R.includes(typeof e)?t+=e+``:n.push(e)}),[t,...n]},B=L.forwardRef(({font:e,letterSpacing:t=0,lineHeight:n=1,size:r=1,height:i=.2,bevelThickness:a=.1,bevelSize:o=.01,bevelEnabled:s=!1,bevelOffset:c=0,bevelSegments:l=4,curveSegments:u=8,smooth:d,children:f,...p},m)=>{L.useMemo(()=>y({RenamedTextGeometry:T}),[]);let h=L.useRef(null),_=I(e),v=(0,L.useMemo)(()=>({font:_,size:r,height:i,bevelThickness:a,bevelSize:o,bevelEnabled:s,bevelSegments:l,bevelOffset:c,curveSegments:u,letterSpacing:t,lineHeight:n}),[_,r,i,a,o,s,l,c,u,t,n]),[b,...x]=(0,L.useMemo)(()=>z(f),[f]),C=L.useMemo(()=>[b,v],[b,v]);return L.useLayoutEffect(()=>{d&&(h.current.geometry=S(h.current.geometry,d),h.current.geometry.computeVertexNormals())},[C,d]),L.useImperativeHandle(m,()=>h.current,[]),L.createElement(`mesh`,g({},p,{ref:h}),L.createElement(`renamedTextGeometry`,{args:C}),x)}),V=L.forwardRef(function({children:t,object:n,disable:r,disableX:i,disableY:a,disableZ:o,left:s,right:u,top:d,bottom:f,front:p,back:m,onCentered:h,precise:_=!0,cacheKey:v=0,...y},b){let x=L.useRef(null),S=L.useRef(null),C=L.useRef(null),[w]=L.useState(()=>new c),[T]=L.useState(()=>new e),[E]=L.useState(()=>new l);return L.useLayoutEffect(()=>{S.current.matrixWorld.identity(),w.setFromObject(n??C.current,_);let e=w.max.x-w.min.x,t=w.max.y-w.min.y,c=w.max.z-w.min.z;w.getCenter(T),w.getBoundingSphere(E);let l=d?t/2:f?-t/2:0,g=s?-e/2:u?e/2:0,v=p?c/2:m?-c/2:0;S.current.position.set(r||i?0:-T.x+g,r||a?0:-T.y+l,r||o?0:-T.z+v),h?.({parent:x.current.parent,container:x.current,width:e,height:t,depth:c,boundingBox:w,boundingSphere:E,center:T,verticalAlignment:l,horizontalAlignment:g,depthAlignment:v})},[v,h,d,s,p,r,i,a,o,n,_,u,f,m,w,T,E]),L.useImperativeHandle(b,()=>x.current,[]),L.createElement(`group`,g({ref:x},y),L.createElement(`group`,{ref:S},L.createElement(`group`,{ref:C},t)))});function H(e){switch(e){case 64:return`-64px`;case 128:return`-128px`;case 256:return`-256px`;case 512:return`-512px`;default:return``}}var U=`https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json`,W=`https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d`;function G(e=0,t=1024,n){let r=h(()=>fetch(U).then(e=>e.json()),[`matcapList`]),i=r[0],a=L.useMemo(()=>Object.keys(r).length,[]),o=`${L.useMemo(()=>typeof e==`string`?e:typeof e==`number`?r[e]:null,[e])||i}${H(t)}.png`,s=`${W}/${t}/${o}`;return[w(s,n),s,a]}var K=r(m()),q=`/3journey/assets/helvetiker_regular.typeface-B9JafPRX.json`,J=r(f()),Y=new o(1,.6,16,32),X=new i;function Z(){let e=(0,L.useRef)(null);d((t,n)=>{if(e.current)for(let t of e.current.children)t.rotation.y+=n*.2});let[t]=G(`7B5254_E9DCC7_B19986_C8AC91`,256);return(0,L.useEffect)(()=>{t.colorSpace=a,t.needsUpdate=!0,X.matcap=t,X.needsUpdate=!0},[]),(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(`ambientLight`,{intensity:1}),(0,J.jsx)(`directionalLight`,{position:[1,1,1],intensity:1}),(0,J.jsx)(V,{children:(0,J.jsxs)(B,{material:X,font:q,size:.75,height:.2,curveSegments:12,bevelEnabled:!0,bevelThickness:.02,bevelSize:.02,bevelOffset:0,bevelSegments:5,children:[`HELLO R3F`,(0,J.jsx)(`meshMatcapMaterial`,{matcap:t})]})}),(0,J.jsx)(`group`,{ref:e,children:[...Array(100)].map((e,n)=>(0,J.jsx)(`mesh`,{geometry:Y,material:X,position:[(Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10],rotation:[Math.random()*Math.PI*2,Math.random()*Math.PI*2,0],scale:.2+Math.random()*.2,children:(0,J.jsx)(`meshMatcapMaterial`,{matcap:t})},`donut-${n}`))})]})}function Q(){return(0,J.jsxs)(v,{camera:{position:[5,3,5]},children:[(0,J.jsx)(C,{position:`top-left`}),(0,J.jsx)(`color`,{attach:`background`,args:[`rgba(245, 255, 230, 1)`]}),(0,J.jsx)(b,{makeDefault:!0,dampingFactor:.05}),(0,J.jsx)(Z,{})]})}var te=Q,$=document.getElementById(`root`);if(!$)throw Error(`Root element #root not found`);(0,K.createRoot)($).render((0,J.jsx)(te,{}));